# inspect_ai.event


## Core Events

### ModelEvent

Call to a language model.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_model.py#L16)

``` python
class ModelEvent(BaseEvent)
```

#### Attributes

`event` Literal\['model'\]  
Event type.

`model` str  
Model name.

`role` str \| None  
Model role.

`input` list\[[ChatMessage](inspect_ai.model.qmd#chatmessage)\]  
Model input (list of messages).

`tools` list\[[ToolInfo](inspect_ai.tool.qmd#toolinfo)\]  
Tools available to the model.

`tool_choice` [ToolChoice](inspect_ai.tool.qmd#toolchoice)  
Directive to the model which tools to prefer.

`config` [GenerateConfig](inspect_ai.model.qmd#generateconfig)  
Generate config used for call to model.

`output` [ModelOutput](inspect_ai.model.qmd#modeloutput)  
Output from model.

`retries` int \| None  
Retries for the model API request.

`error` str \| None  
Error which occurred during model call.

`cache` Literal\['read', 'write'\] \| None  
Was this a cache read or write.

`call` [ModelCall](inspect_ai.model.qmd#modelcall) \| None  
Raw call made to model API.

`completed` datetime \| None  
Time that model call completed (see `timestamp` for started)

`working_time` float \| None  
working time for model call that succeeded (i.e. was not retried).

### ToolEvent

Call to a tool.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_tool.py#L12)

``` python
class ToolEvent(BaseEvent)
```

#### Attributes

`event` Literal\['tool'\]  
Event type.

`type` Literal\['function'\]  
Type of tool call (currently only ‘function’)

`id` str  
Unique identifier for tool call.

`function` str  
Function called.

`arguments` dict\[str, JsonValue\]  
Arguments to function.

`view` ToolCallContent \| None  
Custom view of tool call input.

`result` [ToolResult](inspect_ai.tool.qmd#toolresult)  
Function return value.

`truncated` tuple\[int, int\] \| None  
Bytes truncated (from,to) if truncation occurred

`error` [ToolCallError](inspect_ai.tool.qmd#toolcallerror) \| None  
Error that occurred during tool call.

`completed` datetime \| None  
Time that tool call completed (see `timestamp` for started)

`working_time` float \| None  
Working time for tool call (i.e. time not spent waiting on semaphores).

`agent` str \| None  
Name of agent if the tool call was an agent handoff.

`failed` bool \| None  
Did the tool call fail with a hard error?.

`message_id` str \| None  
Id of ChatMessageTool associated with this event.

`cancelled` bool  
Was the task cancelled?

### ApprovalEvent

Tool approval.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_approval.py#L9)

``` python
class ApprovalEvent(BaseEvent)
```

#### Attributes

`event` Literal\['approval'\]  
Event type

`message` str  
Message generated by model along with tool call.

`call` ToolCall  
Tool call being approved.

`view` ToolCallView \| None  
View presented for approval.

`approver` str  
Aprover name.

`decision` Literal\['approve', 'modify', 'reject', 'escalate', 'terminate'\]  
Decision of approver.

`modified` ToolCall \| None  
Modified tool call for decision ‘modify’.

`explanation` str \| None  
Explanation for decision.

### SandboxEvent

Sandbox execution or I/O

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_sandbox.py#L9)

``` python
class SandboxEvent(BaseEvent)
```

#### Attributes

`event` Literal\['sandbox'\]  
Event type

`action` Literal\['exec', 'read_file', 'write_file'\]  
Sandbox action

`cmd` str \| None  
Command (for exec)

`options` dict\[str, JsonValue\] \| None  
Options (for exec)

`file` str \| None  
File (for read_file and write_file)

`input` str \| None  
Input (for cmd and write_file). Truncated to 100 lines.

`result` int \| None  
Result (for exec)

`output` str \| None  
Output (for exec and read_file). Truncated to 100 lines.

`completed` datetime \| None  
Time that sandbox action completed (see `timestamp` for started)

### InfoEvent

Event with custom info/data.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_info.py#L8)

``` python
class InfoEvent(BaseEvent)
```

#### Attributes

`event` Literal\['info'\]  
Event type.

`source` str \| None  
Optional source for info event.

`data` JsonValue  
Data provided with event.

### LoggerEvent

Log message recorded with Python logger.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_logger.py#L77)

``` python
class LoggerEvent(BaseEvent)
```

#### Attributes

`event` Literal\['logger'\]  
Event type.

`message` [LoggingMessage](inspect_ai.event.qmd#loggingmessage)  
Logging message

### ErrorEvent

Event with sample error.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_error.py#L9)

``` python
class ErrorEvent(BaseEvent)
```

#### Attributes

`event` Literal\['error'\]  
Event type.

`error` [EvalError](inspect_ai.log.qmd#evalerror)  
Sample error

### SpanBeginEvent

Mark the beginning of a transcript span.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_span.py#L8)

``` python
class SpanBeginEvent(BaseEvent)
```

#### Attributes

`event` Literal\['span_begin'\]  
Event type.

`id` str  
Unique identifier for span.

`parent_id` str \| None  
Identifier for parent span.

`type` str \| None  
Optional ‘type’ field for span.

`name` str  
Span name.

### SpanEndEvent

Mark the end of a transcript span.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_span.py#L27)

``` python
class SpanEndEvent(BaseEvent)
```

#### Attributes

`event` Literal\['span_end'\]  
Event type.

`id` str  
Unique identifier for span.

## Event Tree

### event_tree

Build a tree representation of a sequence of events.

Organize events heirarchially into event spans.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_tree.py#L43)

``` python
def event_tree(events: Sequence[Event]) -> EventTree
```

`events` Sequence\[Event\]  
Sequence of `Event`.

### event_sequence

Flatten a span forest back into a properly ordered seqeunce.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_tree.py#L94)

``` python
def event_sequence(tree: EventTree) -> Iterable[Event]
```

`tree` [EventTree](inspect_ai.event.qmd#eventtree)  
Event tree

### EventTree

Tree of events (has invividual events and event spans).

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_tree.py#L13)

``` python
EventTree: TypeAlias = list[EventNode]
```

### EventNode

Node in an event tree.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_tree.py#L10)

``` python
EventNode: TypeAlias = "SpanNode" | Event
```

### SpanNode

Event tree node representing a span of events.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_tree.py#L17)

``` python
@dataclass
class SpanNode
```

#### Attributes

`id` str  
Span id.

`parent_id` str \| None  
Parent span id.

`type` str \| None  
Optional ‘type’ field for span.

`name` str  
Span name.

`begin` [SpanBeginEvent](inspect_ai.event.qmd#spanbeginevent)  
Span begin event.

`end` [SpanEndEvent](inspect_ai.event.qmd#spanendevent) \| None  
Span end event (if any).

`children` list\[[EventNode](inspect_ai.event.qmd#eventnode)\]  
Children in the span.

## Eval Events

### SampleInitEvent

Beginning of processing a Sample.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_sample_init.py#L9)

``` python
class SampleInitEvent(BaseEvent)
```

#### Attributes

`event` Literal\['sample_init'\]  
Event type.

`sample` [Sample](inspect_ai.dataset.qmd#sample)  
Sample.

`state` JsonValue  
Initial state.

### SampleLimitEvent

The sample was unable to finish processing due to a limit

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_sample_limit.py#L8)

``` python
class SampleLimitEvent(BaseEvent)
```

#### Attributes

`event` Literal\['sample_limit'\]  
Event type.

`type` Literal\['message', 'time', 'working', 'token', 'operator', 'custom'\]  
Type of limit that halted processing

`message` str  
A message associated with this limit

`limit` float \| None  
The limit value (if any)

### StateEvent

Change to the current `TaskState`

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_state.py#L9)

``` python
class StateEvent(BaseEvent)
```

#### Attributes

`event` Literal\['state'\]  
Event type.

`changes` list\[JsonChange\]  
List of changes to the `TaskState`

### StoreEvent

Change to data within the current `Store`.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_store.py#L10)

``` python
class StoreEvent(BaseEvent)
```

#### Attributes

`event` Literal\['store'\]  
Event type.

`changes` list\[JsonChange\]  
List of changes to the `Store`.

### InputEvent

Input screen interaction.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_input.py#L8)

``` python
class InputEvent(BaseEvent)
```

#### Attributes

`event` Literal\['input'\]  
Event type.

`input` str  
Input interaction (plain text).

`input_ansi` str  
Input interaction (ANSI).

### ScoreEvent

Event with score.

Can be the final score for a `Sample`, or can be an intermediate score
resulting from a call to `score`.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_score.py#L9)

``` python
class ScoreEvent(BaseEvent)
```

#### Attributes

`event` Literal\['score'\]  
Event type.

`score` [Score](inspect_ai.scorer.qmd#score)  
Score value.

`target` str \| list\[str\] \| None  
“Sample target.

`intermediate` bool  
Was this an intermediate scoring?

### ScoreEditEvent

Event recorded when a score is edited.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_score_edit.py#L9)

``` python
class ScoreEditEvent(BaseEvent)
```

#### Attributes

`event` Literal\['score_edit'\]  
Event type.

`score_name` str  
Name of the score being edited.

`edit` ScoreEdit  
The edit being applied to the score.

## Types

### LoggingLevel

Logging level.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_logger.py#L9)

``` python
LoggingLevel = Literal[
    "debug", "trace", "http", "sandbox", "info", "warning", "error", "critical"
]
```

### LoggingMessage

Message written to Python log.

[Source](https://github.com/UKGovernmentBEIS/inspect_ai/blob/9f0d2487c8b483c7eb58b4d81ef97d4b069eb34c/src/inspect_ai/event/_logger.py#L15)

``` python
class LoggingMessage(BaseModel)
```

#### Attributes

`name` str \| None  
Logger name (e.g. ‘httpx’)

`level` [LoggingLevel](inspect_ai.event.qmd#logginglevel)  
Logging level.

`message` str  
Log message.

`created` float  
Message created time.

`filename` str  
Logged from filename.

`module` str  
Logged from module.

`lineno` int  
Logged from line number.
